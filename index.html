<!DOCTYPE html>
<html lang="fa">
<head>
  <meta charset="UTF-8">
  <title>Neon Gamer Dashboard</title>
  <meta name="viewport" content="width=1000">
  <link href="https://fonts.googleapis.com/css?family=Orbitron:700&display=swap" rel="stylesheet">
  <style>
    body {margin:0;background:#151f2e;font-family:'Orbitron',Arial,sans-serif;color:#fff;}
    .neon{ text-shadow:0 0 12px #60eaff,0 0 18px #14e6f5;}
    header{background:linear-gradient(90deg,#182b4a 70%,#14e6f5 120%);padding:19px 36px;display:flex;justify-content:space-between;align-items:center;border-bottom:2.2px solid #14e6f5;}
    .profile-pic{width:38px;height:38px;border-radius:50%;border:2px solid #14e6f5;}
    .dashboard{display:flex;gap:2rem;margin:2rem;flex-wrap:wrap;}
    nav.sidebar{background:linear-gradient(180deg,#182b4a 80%,#182b4a 180%);width:190px;min-width:120px;border-radius:27px 0 27px 27px;box-shadow:0 0 17px #14e6f5a1;padding:28px 16px;position:relative;}
    .sidebar ul{list-style:none;padding:0;margin:0;}
    .sidebar li{margin-bottom:13px;}
    .sidebar button{width:100%;background:#0f172b;border:none;color:#24fff6;padding:13px;border-radius:13px;font-size:1.05rem;font-weight:bold;margin-bottom:7px;cursor:pointer;box-shadow:0 0 11px #14e6f570;transition:all .18s;}
    .sidebar button:hover{background:#14e6f5;color:#151f2e;}
    main.main-panel{flex:1 1 340px;background:rgba(21,31,46,.98);border-radius:17px;box-shadow:0 0 19px #14e6f5b1;padding:1.3rem;min-width:310px;}
    .game-card{background:#131f39db;border-radius:11px;padding:0.7rem;width:140px;box-shadow:0 0 10px #14e6f5a1;display:flex;flex-direction:column;align-items:center;margin-bottom:8px;}
    .game-card img{width:70px;height:70px;margin-bottom:0.5rem;border-radius:7px;box-shadow:0 0 7px #14e6f579;border:2px solid #14e6f5;}
    .game-title{font-size:1rem;color:#14e6f5;margin-bottom:0.24rem;font-weight:bold;text-align:center;}
    .play-btn{background:#0f55c0;color:#fff;border:none;border-radius:8px;padding:0.34rem 0.9rem;cursor:pointer;transition:background 0.18s;margin-top:0.21rem;}
    .play-btn:hover{background:#14e6f5;color:#0f55c0;}
    #chat-messages{background:#10182d;border-radius:10px;padding:7px;min-height:58px;margin-bottom:9px;max-height:90px;overflow-y:auto;}
    .chat-message{margin-bottom:5px;}
    #settings input[type=checkbox]{accent-color:#14e6f5;transform:scale(1.3);}
    @media(max-width:900px){.dashboard{flex-direction:column;}.sidebar{width:100%;min-width:unset;}}
  </style>
</head>
<body>
  <header>
    <h1 class="neon">GAMER DASHBOARD</h1>
    <div>
      <img src="https://avatars.githubusercontent.com/u/terminaluser.png" alt="profile" class="profile-pic">
    </div>
  </header>
  <div class="dashboard">
    <nav class="sidebar">
      <ul>
        <li><button onclick="showPage('home')">خانه</button></li>
        <li><button onclick="showPage('games')">بازی‌ها</button></li>
        <li><button onclick="showPage('tournaments')">تورنومنت‌ها</button></li>
        <li><button onclick="showPage('rank')">رتبه و جوایز</button></li>
        <li><button onclick="showPage('chat')">چت گیمرها</button></li>
        <li><button onclick="showPage('shop')">فروشگاه</button></li>
        <li><button onclick="showPage('profile')">پروفایل من</button></li>
        <li><button onclick="showPage('settings')">تنظیمات</button></li>
      </ul>
    </nav>
    <main class="main-panel" id="main-content"></main>
  </div>
  <script>
    // داده‌های پیش‌فرض کاربر
    const shopItems = [
      {name:"AK-47 | Safari Mesh (Field-Tested)", price:0.10, img:"https://steamcommunity.com/economy/image/class/730/8/200fx100f", link:"https://steamcommunity.com/market/listings/730/AK-47%20%7C%20Safari%20Mesh%20%28Field-Tested%29"},
      {name:"AUG | Sweeper (Field-Tested)", price:0.04, img:"https://steamcommunity.com/economy/image/class/730/454/200fx100f", link:"https://steamcommunity.com/market/listings/730/AUG%20%7C%20Sweeper%20%28Field-Tested%29"},
      {name:"M4A1-S | Nitro (Field-Tested)", price:0.38, img:"https://steamcommunity.com/economy/image/class/730/326/200fx100f", link:"https://steamcommunity.com/market/listings/730/M4A1-S%20%7C%20Nitro%20%28Field-Tested%29"}
    ];
    let user = loadUser();
    function loadUser() {
      let data = localStorage.getItem("gamerUser");
      if (!data) {
        data = JSON.stringify({points:0, games:[], tournaments:[], chat:["به چت خوش آمدی!"], shop:[], night:false});
        localStorage.setItem("gamerUser", data);
      }
      return JSON.parse(data);
    }
    function saveUser() {
      localStorage.setItem("gamerUser", JSON.stringify(user));
    }
    function showPage(page){
      let mc = document.getElementById('main-content');
      if(page === "home") mc.innerHTML = `
        <h2>خانه</h2>
        <div style="margin-bottom:20px;">امتیاز فعلی: <b style="color:#14e6f5">${user.points}</b></div>
        <button onclick="user.points+=100;saveUser();showPage('home')"> +100 امتیاز روزانه</button>
      `;
      else if(page === "games") {
        mc.innerHTML = `<h2>بازی‌ها</h2>
          <div id='userGames'>${user.games.length?user.games.map((g,i)=>
            `<div class='game-card'><img src='${g.img||"https://upload.wikimedia.org/wikipedia/en/0/02/Minecraft_cover.png"}'>
            <div class='game-title'>${g.name}</div>
            <button class='play-btn' onclick='user.points+=50;saveUser();showPage("games")'>ورود (+۵۰)</button>
            <button class='play-btn' onclick='user.games.splice(${i},1);saveUser();showPage("games")'>حذف</button>
            </div>`
          ).join(""):"<span style='color:#bbb'>هنوز بازی ثبت نشده!</span>"}</div>
          <button onclick='addGame()'>افزودن بازی جدید</button>
        `;
      }
      else if(page === "tournaments") {
        mc.innerHTML = `<h2>تورنومنت‌ها</h2>
          <ul>${user.tournaments.length?user.tournaments.map((t,i)=>
            `<li>${t} <button onclick='user.tournaments.splice(${i},1);saveUser();showPage("tournaments")'>حذف</button></li>`
          ).join(""):"<span style='color:#bbb'>موردی ثبت نشده!</span>"}</ul>
          <button onclick='addTournament()'>افزودن تورنومنت</button>
        `;
      }
      else if(page === "rank") {
        mc.innerHTML = `<h2>رتبه و جوایز</h2>
          <div>رتبه فعلی: <b style="color:#14e6f5">${user.points>1000?"Platinum":user.points>500?"Gold":"Bronze"}</b></div>
          <button onclick="user.points+=200;saveUser();showPage('rank')">دریافت جایزه رتبه</button>
        `;
      }
      else if(page === "chat") {
        mc.innerHTML = `<h2>چت گیمرها</h2>
          <div id="chat-messages">${user.chat.map(c=>`<div class='chat-message'>${c}</div>`).join("")}</div>
          <input id='chatbox' placeholder='پیام...' style='width:70%;margin-bottom:7px;'>
          <button onclick='sendMsg()'>ارسال پیام</button>`;
      }
      else if(page === "shop"){
        mc.innerHTML = `<h2>فروشگاه آیتم‌ها (استیم)</h2>
          <div style="margin-bottom:8px;">امتیاز شما: <b style="color:#14e6f5">${user.points}</b></div>
          <button onclick="window.open('https://steamcommunity.com/tradeoffer/new/?partner=1445094693&token=CI12hRuH')">شارژ حساب با ترید آیتم</button>
          <div style="margin:10px 0;"><label>لینک ترید <input id="tradeLink" style="width:55%;" placeholder="لینک را وارد کن"> <button onclick="registerTrade()">ثبت لینک</button></label></div>
          <div class='games'>${shopItems.map((it,i)=>`
            <div class='game-card'>
              <img src='${it.img}'>
              <div class='game-title'><a href='${it.link}' target='_blank' style='color:#14e6f5;text-decoration:none;'>${it.name}</a></div>
              <div style='color:#fff'>قیمت: $${it.price}</div>
              <button class='play-btn' onclick="buyShop(${i})">خرید</button>
            </div>
          `).join('')}</div>
          <div>موارد خریداری شده: ${user.shop.length ? user.shop.join(", ") : "هیچ"}</div>
        `;
      }
      else if(page === "profile") {
        mc.innerHTML = `<h2>پروفایل من</h2>
          <div>امتیاز: <b style="color:#14e6f5">${user.points}</b></div>
          <div>تعداد بازی: ${user.games.length}</div>
          <div>تعداد تورنومنت: ${user.tournaments.length}</div>
          <div>آیتم‌های خریداری‌شده: ${user.shop.length}</div>
          <button onclick='resetUser()'>حذف همه اطلاعات</button>
        `;
      }
      else if(page === "settings") {
        mc.innerHTML = `<h2>تنظیمات</h2>
          <label><input type='checkbox' id="nightSwitch" ${user.night?"checked":""} onchange='toggleNight()'> حالت شب</label>
        `;
      }
    }
    function addGame() {
      let n = prompt('نام بازی؟');
      if(!n) return;
      user.games.push({name:n});
      saveUser();showPage('games');
    }
    function addTournament() {
      let t = prompt('نام تورنومنت؟');
      if(!t) return;
      user.tournaments.push(t); saveUser();showPage('tournaments');
    }
    function sendMsg() {
      let c = chatbox.value.trim();
      if(!c) return;
      user.chat.push("شما: "+c); saveUser(); showPage('chat');
    }
    function buyShop(i){
      let item = shopItems[i];
      if(user.points>=item.price){
        user.points-=item.price; user.shop.push(item.name);
        saveUser(); alert("خرید موفق! انتقال آیتم تا 1 روز آینده");
        showPage('shop');
      }
      else alert("اعتبار کافی نیست!");
    }
    function registerTrade(){
      let l = document.getElementById("tradeLink").value.trim();
      if(!l) { alert("لینک را وارد کن."); return; }
      alert("درخواست شما ثبت شد. پس از بررسی اعتبار اضافه می‌شود.");
    }
    function toggleNight(){
      user.night = document.getElementById("nightSwitch").checked;
      document.body.style.background = user.night ? "#090b28" : "#151f2e";
      saveUser();
    }
    function resetUser(){
      if(confirm("مطمئنی همه اطلاعات پاک شود؟")){
        localStorage.removeItem("gamerUser");user = loadUser();showPage("home");
      }
    }
    // اجرای خانه در شروع
    showPage('home');
  </script>
</body>
</html>
